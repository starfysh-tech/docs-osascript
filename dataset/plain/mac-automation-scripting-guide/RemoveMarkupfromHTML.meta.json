{
  "collection": "mac-automation-scripting-guide",
  "path": "RemoveMarkupfromHTML.md",
  "title": "Removing HTML Markup from Text",
  "body": "<a id=\"//apple_ref/doc/uid/TP40016239-CH64\"></a><a id=\"//apple_ref/doc/uid/TP40016239-CH64-SW1\"></a>\n\n## Removing HTML Markup from Text\n\nWhen parsing HTML content, it’s often necessary to remove markup entirely. The handler in Listing 34-1 removes all HTML tags from the text provided, returning only the remaining text—the contents of the tags.\n\n**APPLESCRIPT**\n\n[Open in Script Editor](https://developer.apple.com/library/archive/mac-automation-scripting-guide/applescript:/com.apple.scripteditor?action=new&name=Remove%20HTML%20Markup%20From%20Text&script=on%20removeMarkupFromText%28theText%29%0D%20%20%20%20set%20tagDetected%20to%20false%0D%20%20%20%20set%20theCleanText%20to%20%22%22%0D%20%20%20%20repeat%20with%20a%20from%201%20to%20length%20of%20theText%0D%20%20%20%20%20%20%20%20set%20theCurrentCharacter%20to%20character%20a%20of%20theText%0D%20%20%20%20%20%20%20%20if%20theCurrentCharacter%20is%20%22%3C%22%20then%0D%20%20%20%20%20%20%20%20%20%20%20%20set%20tagDetected%20to%20true%0D%20%20%20%20%20%20%20%20else%20if%20theCurrentCharacter%20is%20%22%3E%22%20then%0D%20%20%20%20%20%20%20%20%20%20%20%20set%20tagDetected%20to%20false%0D%20%20%20%20%20%20%20%20else%20if%20tagDetected%20is%20false%20then%0D%20%20%20%20%20%20%20%20%20%20%20%20set%20theCleanText%20to%20theCleanText%20%26%20theCurrentCharacter%20as%20string%0D%20%20%20%20%20%20%20%20end%20if%0D%20%20%20%20end%20repeat%0D%20%20%20%20return%20theCleanText%0Dend%20removeMarkupFromText%0D)\n\n<a id=\"//apple_ref/doc/uid/TP40016239-CH64-SW2\"></a>\n**Listing 34-1**AppleScript: Handler that removes HTML markup from text\n\n1. `on removeMarkupFromText(theText)`\n2. ` set tagDetected to false`\n3. ` set theCleanText to \"\"`\n4. ` repeat with a from 1 to length of theText`\n5. ` set theCurrentCharacter to character a of theText`\n6. ` if theCurrentCharacter is \"&lt;\" then`\n7. ` set tagDetected to true`\n8. ` else if theCurrentCharacter is \"&gt;\" then`\n9. ` set tagDetected to false`\n10. ` else if tagDetected is false then`\n11. ` set theCleanText to theCleanText & theCurrentCharacter as string`\n12. ` end if`\n13. ` end repeat`\n14. ` return theCleanText`\n15. `end removeMarkupFromText`\n\nListing 34-2 shows how to call the handler in Listing 34-1.\n\n**APPLESCRIPT**\n\n[Open in Script Editor](https://developer.apple.com/library/archive/mac-automation-scripting-guide/applescript:/com.apple.scripteditor?action=new&name=Call%20Handler%20to%20Remove%20HTML%20Markup%20from%20Text&script=set%20theText%20to%20%22%3Ca%20href%3D%5C%22http%3A%2F%2Fwww.apple.com%2Fmac%5C%22%3EThis%20is%20a%20%3CB%3Egreat%3C%2FB%3E%20time%20to%20own%20a%20Mac!%3C%2Fa%3E%22%0AremoveMarkupFromText%28theText%29)\n\n<a id=\"//apple_ref/doc/uid/TP40016239-CH64-SW3\"></a>\n**Listing 34-2**AppleScript: Calling a handler to remove HTML markup from text\n\n1. `set theText to \"&lt;a href=\\\\\"http://www.apple.com/mac\\\\\"&gt;This is a &lt;B&gt;great&lt;/B&gt; time to own a Mac!&lt;/a&gt;\"`\n2. `removeMarkupFromText(theText)`\n3. `--&gt; Result: \"This is a great time to own a Mac!\"`\n",
  "binary": false,
  "source_url": "https://developer.apple.com/library/archive/documentation/LanguagesUtilities/Conceptual/MacAutomationScriptingGuide/RemoveMarkupfromHTML.html",
  "sha256": "4e1c00f745862b4256d8cf4923c0bb1878c2f4585162de1cad0397803305b3a3",
  "etag": null,
  "last_modified": null
}
